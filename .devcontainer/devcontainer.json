{
    "name": "Windows 11 (Canary) + Tailscale (unstable)",
    "build": {
        "dockerfile": "Dockerfile"
    },
    "mounts": [
        "target=/var/lib/docker,type=volume"
    ],
    "forwardPorts": [
        22,
        3389,
        5900,
        8006
    ],
    "portsAttributes": {
        "22": {
            "label": "SSH",
            "onAutoForward": "notify"
        },
        "3389": {
            "label": "QEMU (rdp)",
            "onAutoForward": "notify"
        },
        "5900": {
            "label": "QEMU (vnc)",
            "onAutoForward": "notify"
        },
        "8006": {
            "label": "QEMU (web)",
            "onAutoForward": "notify"
        }
    },
    "capAdd": [
        "ALL"
    ],
    "securityOpt": [
        "seccomp=unconfined"
    ],
    "privileged": true,
    "containerUser": "root",
    "remoteUser": "root",
    "onCreateCommand": "sudo bash .devcontainer/onCreateCommand.sh",
    "postStartCommand": "sudo bash .devcontainer/postStartCommand.sh",
    "postAttachCommand": "sudo bash .devcontainer/postAttachCommand.sh",
    "waitFor": "postStartCommand"
}
